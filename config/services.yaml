# This file is the entry point to configure your own services.
# Files in the packages/ subdirectory configure your dependencies.

# Put parameters here that don't need to change on each machine where the app is deployed
# https://symfony.com/doc/current/best_practices.html#use-parameters-for-application-configuration
parameters:

  app.common_mark:
    table_of_contents:
      position: 'placeholder'
      placeholder: '[TOC]'
    embed:
      allowed_domains: ['youtube.com', 'twitter.com', 'github.com']
      fallback: 'link'

  app.content.defaultAuthors: [ramsey]
  app.content.paths.authorsPath: '%kernel.project_dir%/data/content/authors/'
  app.content.paths.blogPostsPath: '%kernel.project_dir%/data/content/blog/'
  app.content.paths.pagesPath: '%kernel.project_dir%/data/content/pages/'

services:
  # default configuration for services in *this* file
  _defaults:
    autowire: true      # Automatically injects dependencies in your services.
    autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

  # makes classes in src/ available to be used as services
  # this creates a service per class whose id is the fully-qualified class name
  App\:
    resource: '../src/'
    exclude:
      - '../src/DependencyInjection/'
      - '../src/Entity/'
      - '../src/Kernel.php'

  # add more service definitions when explicit configuration is needed
  # please note that last definitions always *replace* previous ones

  App\Service\CommonMark:
    arguments:
      $configuration: '%app.common_mark%'

  League\CommonMark\ConverterInterface: '@App\Service\CommonMark'

  League\CommonMark\Extension\Embed\Bridge\OscaroteroEmbedAdapter: ~

  League\CommonMark\Extension\Embed\EmbedAdapterInterface: '@League\CommonMark\Extension\Embed\Bridge\OscaroteroEmbedAdapter'

  Symfony\Component\Yaml\Parser: ~
